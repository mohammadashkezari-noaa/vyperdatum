<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>vyperdatum.utils package &mdash; Vyperdatum 0.1.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=a58bc63e"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="vyperdatum package" href="vyperdatum.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Vyperdatum
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">vyperdatum</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="vyperdatum.html">vyperdatum package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="vyperdatum.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">vyperdatum.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="vyperdatum.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="vyperdatum.html#module-vyperdatum.db">vyperdatum.db module</a></li>
<li class="toctree-l3"><a class="reference internal" href="vyperdatum.html#module-vyperdatum.enums">vyperdatum.enums module</a></li>
<li class="toctree-l3"><a class="reference internal" href="vyperdatum.html#module-vyperdatum.transformer">vyperdatum.transformer module</a></li>
<li class="toctree-l3"><a class="reference internal" href="vyperdatum.html#module-vyperdatum">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Vyperdatum</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">vyperdatum</a></li>
          <li class="breadcrumb-item"><a href="vyperdatum.html">vyperdatum package</a></li>
      <li class="breadcrumb-item active">vyperdatum.utils package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/vyperdatum.utils.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="vyperdatum-utils-package">
<h1>vyperdatum.utils package<a class="headerlink" href="#vyperdatum-utils-package" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-vyperdatum.utils.npz">
<span id="vyperdatum-utils-npz-module"></span><h2>vyperdatum.utils.npz module<a class="headerlink" href="#module-vyperdatum.utils.npz" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="vyperdatum.utils.npz.NPZ">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vyperdatum.utils.npz.</span></span><span class="sig-name descname"><span class="pre">NPZ</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vyperdatum/utils/npz.html#NPZ"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.npz.NPZ" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handle loading and parsing of a .npz (numpy arrays) file.</p>
<section id="attributes">
<h3>Attributes<a class="headerlink" href="#attributes" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>fname: str</dt><dd><p>Full path to the npz file.</p>
</dd>
<dt>content: np.lib.npyio.NpzFile</dt><dd><p>The object containing the numpy arrays stored in the npz file.</p>
</dd>
</dl>
</section>
<section id="example">
<h3>Example<a class="headerlink" href="#example" title="Link to this heading"></a></h3>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">npz</span> <span class="o">=</span> <span class="n">NPZ</span><span class="p">(</span><span class="s1">&#39;PATH_TO_NPZ_FILE&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">u</span> <span class="o">=</span> <span class="n">npz</span><span class="o">.</span><span class="n">xyzu</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wkt</span> <span class="o">=</span> <span class="n">npz</span><span class="o">.</span><span class="n">wkt</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mmx</span><span class="p">,</span> <span class="n">mmy</span><span class="p">,</span> <span class="n">mmz</span><span class="p">,</span> <span class="n">mmu</span> <span class="o">=</span> <span class="n">npz</span><span class="o">.</span><span class="n">minmax</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="vyperdatum.utils.npz.NPZ.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">NpzFile</span></span></span><a class="reference internal" href="_modules/vyperdatum/utils/npz.html#NPZ.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.npz.NPZ.load" title="Link to this definition"></a></dt>
<dd><p>Load a numpy .npz file (collection of numpy arrays).</p>
<section id="raises">
<h4>Raises<a class="headerlink" href="#raises" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>ValueError:</dt><dd><p>If the file path is missing.</p>
</dd>
<dt>FileNotFoundError:</dt><dd><p>If the input file is not found.</p>
</dd>
<dt>TypeError:</dt><dd><p>If key names in the .npz file didn’t match the expected names.</p>
</dd>
</dl>
</section>
<section id="returns">
<h4>Returns<a class="headerlink" href="#returns" title="Link to this heading"></a></h4>
<p>numpy.lib.npyio.NpzFile</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vyperdatum.utils.npz.NPZ.minmax">
<span class="sig-name descname"><span class="pre">minmax</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/vyperdatum/utils/npz.html#NPZ.minmax"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.npz.NPZ.minmax" title="Link to this definition"></a></dt>
<dd><p>Extract the minmax values of the coordinated and uncertainty arrays.</p>
<section id="id1">
<h4>Returns<a class="headerlink" href="#id1" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>x: numpy.ndarray</dt><dd><p>x coordinate numpy array.</p>
</dd>
<dt>y: numpy.ndarray</dt><dd><p>y coordinate numpy array.</p>
</dd>
<dt>z: numpy.ndarray</dt><dd><p>z coordinate numpy array.</p>
</dd>
<dt>u: numpy.ndarray</dt><dd><p>uncertainty numpy array.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vyperdatum.utils.npz.NPZ.wkt">
<span class="sig-name descname"><span class="pre">wkt</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/vyperdatum/utils/npz.html#NPZ.wkt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.npz.NPZ.wkt" title="Link to this definition"></a></dt>
<dd><p>Return wkt stored in the npz file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vyperdatum.utils.npz.NPZ.xyzu">
<span class="sig-name descname"><span class="pre">xyzu</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/vyperdatum/utils/npz.html#NPZ.xyzu"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.npz.NPZ.xyzu" title="Link to this definition"></a></dt>
<dd><p>Slice the <cite>data</cite> array to extract x, y, z, u arrays.</p>
<section id="id2">
<h4>Returns<a class="headerlink" href="#id2" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>x: numpy.ndarray</dt><dd><p>x coordinate numpy array.</p>
</dd>
<dt>y: numpy.ndarray</dt><dd><p>y coordinate numpy array.</p>
</dd>
<dt>z: numpy.ndarray</dt><dd><p>z coordinate numpy array.</p>
</dd>
<dt>u: numpy.ndarray</dt><dd><p>uncertainty numpy array.</p>
</dd>
</dl>
</section>
</dd></dl>

</section>
</dd></dl>

</section>
<section id="module-vyperdatum.utils.raster_utils">
<span id="vyperdatum-utils-raster-utils-module"></span><h2>vyperdatum.utils.raster_utils module<a class="headerlink" href="#module-vyperdatum.utils.raster_utils" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="vyperdatum.utils.raster_utils.add_overview">
<span class="sig-prename descclassname"><span class="pre">vyperdatum.utils.raster_utils.</span></span><span class="sig-name descname"><span class="pre">add_overview</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raster_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compression</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedded</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/vyperdatum/utils/raster_utils.html#add_overview"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.raster_utils.add_overview" title="Link to this definition"></a></dt>
<dd><p>Add overview bands to a raster file with no existing overviews.</p>
<section id="parameters">
<h3>parameters<a class="headerlink" href="#parameters" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>raster_file: str</dt><dd><p>Absolute full path to the raster file.</p>
</dd>
<dt>compression: str</dt><dd><p>The name of compression algorithm.</p>
</dd>
<dt>embedded: bool, default=True</dt><dd><p>If True, the overviews will be embedded in the file, otherwise stored externally.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vyperdatum.utils.raster_utils.add_rat">
<span class="sig-prename descclassname"><span class="pre">vyperdatum.utils.raster_utils.</span></span><span class="sig-name descname"><span class="pre">add_rat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/vyperdatum/utils/raster_utils.html#add_rat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.raster_utils.add_rat" title="Link to this definition"></a></dt>
<dd><p>Add Raster Attribute Table (RAT) to all bands of a raster file.</p>
<section id="id3">
<h3>parameters<a class="headerlink" href="#id3" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>raster_file: str</dt><dd><p>Absolute full path to the raster file.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vyperdatum.utils.raster_utils.band_stats">
<span class="sig-prename descclassname"><span class="pre">vyperdatum.utils.raster_utils.</span></span><span class="sig-name descname"><span class="pre">band_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">band_array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="reference internal" href="_modules/vyperdatum/utils/raster_utils.html#band_stats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.raster_utils.band_stats" title="Link to this definition"></a></dt>
<dd><p>Return a list containing the min, max, mean, and std of the band array.</p>
<section id="id4">
<h3>Parameters<a class="headerlink" href="#id4" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>band_array: numpy.ndarray</dt><dd><p>raster band array</p>
</dd>
</dl>
</section>
<section id="id5">
<h3>Returns:<a class="headerlink" href="#id5" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>list:</dt><dd><p>min, max, mean, and std of the band array.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vyperdatum.utils.raster_utils.crs_to_code_auth">
<span class="sig-prename descclassname"><span class="pre">vyperdatum.utils.raster_utils.</span></span><span class="sig-name descname"><span class="pre">crs_to_code_auth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">CRS</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="_modules/vyperdatum/utils/raster_utils.html#crs_to_code_auth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.raster_utils.crs_to_code_auth" title="Link to this definition"></a></dt>
<dd><p>Return CRS string representation in form of code:authority</p>
<section id="id6">
<h3>Raises<a class="headerlink" href="#id6" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>ValueError:</dt><dd><p>If either code of authority of the crs (or its sub_crs) can not be determined.</p>
</dd>
</dl>
</section>
<section id="id7">
<h3>Returns<a class="headerlink" href="#id7" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>str:</dt><dd><p>crs string in form of code:authority</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vyperdatum.utils.raster_utils.post_transformation_checks">
<span class="sig-prename descclassname"><span class="pre">vyperdatum.utils.raster_utils.</span></span><span class="sig-name descname"><span class="pre">post_transformation_checks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_meta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_meta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_crs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">CRS</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertical_transform</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vyperdatum/utils/raster_utils.html#post_transformation_checks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.raster_utils.post_transformation_checks" title="Link to this definition"></a></dt>
<dd><p>Run a number of sanity checks on the transformed raster file.
Warns if a check fails.</p>
<section id="id8">
<h3>Parameters<a class="headerlink" href="#id8" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>source_meta: dict</dt><dd><p>Source raster metadata generated by <cite>raster_metadata</cite> function.</p>
</dd>
<dt>target_meta: dict</dt><dd><p>Target raster metadata generated by <cite>raster_metadata</cite> function.</p>
</dd>
<dt>target_crs:  pyproj.crs.CRS or input used to create one</dt><dd><p>The expected CRS object for the target raster file.</p>
</dd>
<dt>vertical_transform: bool</dt><dd><p>True if it’s a vertical transformation, otherwise False.</p>
</dd>
</dl>
</section>
<section id="id9">
<h3>Returns<a class="headerlink" href="#id9" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>bool</dt><dd><p>Returns True if all checks pass, otherwise False.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vyperdatum.utils.raster_utils.pre_transformation_checks">
<span class="sig-prename descclassname"><span class="pre">vyperdatum.utils.raster_utils.</span></span><span class="sig-name descname"><span class="pre">pre_transformation_checks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_meta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vyperdatum/utils/raster_utils.html#pre_transformation_checks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.raster_utils.pre_transformation_checks" title="Link to this definition"></a></dt>
<dd><p>Run a number of sanity checks on the source raster file, before transformation.
Warns if a check fails.</p>
<section id="id10">
<h3>Parameters<a class="headerlink" href="#id10" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>source_meta: dict</dt><dd><p>Source raster metadata generated by <cite>raster_metadata</cite> function.</p>
</dd>
</dl>
</section>
<section id="id11">
<h3>Returns<a class="headerlink" href="#id11" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>bool</dt><dd><p>Returns True if all checks pass, otherwise False.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vyperdatum.utils.raster_utils.raster_compress">
<span class="sig-prename descclassname"><span class="pre">vyperdatum.utils.raster_utils.</span></span><span class="sig-name descname"><span class="pre">raster_compress</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raster_file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compression</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vyperdatum/utils/raster_utils.html#raster_compress"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.raster_utils.raster_compress" title="Link to this definition"></a></dt>
<dd><p>Compress raster file.</p>
<section id="id12">
<h3>Parameters<a class="headerlink" href="#id12" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>raster_file_path: str</dt><dd><p>absolute path to the input raster file.</p>
</dd>
<dt>output_file_path: str</dt><dd><p>absolute path to the compressed output raster file.</p>
</dd>
<dt>format: str</dt><dd><p>raster file format.</p>
</dd>
<dt>compression: str</dt><dd><p>compression algorithm.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vyperdatum.utils.raster_utils.raster_metadata">
<span class="sig-prename descclassname"><span class="pre">vyperdatum.utils.raster_utils.</span></span><span class="sig-name descname"><span class="pre">raster_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raster_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/vyperdatum/utils/raster_utils.html#raster_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.raster_utils.raster_metadata" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vyperdatum.utils.raster_utils.set_nodatavalue">
<span class="sig-prename descclassname"><span class="pre">vyperdatum.utils.raster_utils.</span></span><span class="sig-name descname"><span class="pre">set_nodatavalue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raster_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">band_nodatavalue</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/vyperdatum/utils/raster_utils.html#set_nodatavalue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.raster_utils.set_nodatavalue" title="Link to this definition"></a></dt>
<dd><p>Change the NoDataValue of the raster file bands.</p>
<section id="id13">
<h3>parameters<a class="headerlink" href="#id13" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>raster_file: str</dt><dd><p>Absolute full path to the raster file.</p>
</dd>
<dt>band_nodatavalue: Union[list[tuple[int, float]], float]</dt><dd><p>A list of tuples: (band_index, NoDataValue).
If a single float is passed, all bands will be affected.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vyperdatum.utils.raster_utils.unchanged_to_nodata">
<span class="sig-prename descclassname"><span class="pre">vyperdatum.utils.raster_utils.</span></span><span class="sig-name descname"><span class="pre">unchanged_to_nodata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_raster_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform_raster_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xform_band</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/vyperdatum/utils/raster_utils.html#unchanged_to_nodata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.raster_utils.unchanged_to_nodata" title="Link to this definition"></a></dt>
<dd><p>Compare the <cite>xform_band</cite> values of the <cite>src_raster_file</cite> and <cite>xform_raster_file</cite>.
Change the values to NoDataValue if the transformed value is the same as the
original value (indicating that the transformation has failed).
Currentl, PROJ keep the source raster unchanged when fails to apply the transformation.
The transformation fails when the source data is outside any of the underlying
transformation grids. This function is meant to replace the failed transformation
points with NoDataValue.</p>
<section id="id14">
<h3>parameters<a class="headerlink" href="#id14" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>src_raster_file: str</dt><dd><p>Absolute full path to the source raster file.</p>
</dd>
<dt>xform_raster_file: str</dt><dd><p>Absolute full path to the transformed raster file.</p>
</dd>
<dt>xform_band: int</dt><dd><p>The reference band index that is used for comparison between the source and transformed file.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vyperdatum.utils.raster_utils.warp">
<span class="sig-prename descclassname"><span class="pre">vyperdatum.utils.raster_utils.</span></span><span class="sig-name descname"><span class="pre">warp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">apply_vertical</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs_from</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">CRS</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs_to</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">CRS</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">warp_kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vyperdatum/utils/raster_utils.html#warp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.raster_utils.warp" title="Link to this definition"></a></dt>
<dd><p>A gdal-warp wrapper to transform an NBS raster (GTiff) file with 3 bands:
Elevation, Uncertainty, and Contributors.</p>
<section id="id15">
<h3>Parameters<a class="headerlink" href="#id15" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>input_file: str</dt><dd><p>Path to the input raster file (gdal supported).</p>
</dd>
<dt>output_file: str</dt><dd><p>Path to the transformed raster file.</p>
</dd>
<dt>apply_vertical: bool</dt><dd><p>Apply GDAL vertical shift.</p>
</dd>
<dt>crs_from: pyproj.crs.CRS or input used to create one</dt><dd><p>Projection of input data.</p>
</dd>
<dt>crs_to: pyproj.crs.CRS or input used to create one</dt><dd><p>Projection of output data.</p>
</dd>
<dt>input_metadata: dict</dt><dd><p>Dictionary containing metadata generated by vyperdatum.raster_utils.raster_metadata()</p>
</dd>
<dt>warp_kwargs: dict</dt><dd><p>gdal kwargs.</p>
</dd>
</dl>
</section>
<section id="id16">
<h3>Returns<a class="headerlink" href="#id16" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>str:</dt><dd><p>Absolute path to the transformed file.</p>
</dd>
</dl>
</section>
</dd></dl>

</section>
<section id="module-vyperdatum.utils.spatial_utils">
<span id="vyperdatum-utils-spatial-utils-module"></span><h2>vyperdatum.utils.spatial_utils module<a class="headerlink" href="#module-vyperdatum.utils.spatial_utils" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="vyperdatum.utils.spatial_utils.get_grid_list">
<span class="sig-prename descclassname"><span class="pre">vyperdatum.utils.spatial_utils.</span></span><span class="sig-name descname"><span class="pre">get_grid_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vdatum_directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vyperdatum/utils/spatial_utils.html#get_grid_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.spatial_utils.get_grid_list" title="Link to this definition"></a></dt>
<dd><p>Return all gtx files in the vdatum directory.</p>
<section id="id17">
<h3>Parameters<a class="headerlink" href="#id17" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>vdatum_directory</dt><dd><p>absolute folder path to the vdatum directory</p>
</dd>
</dl>
</section>
<section id="id18">
<h3>Returns<a class="headerlink" href="#id18" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>dict</dt><dd><p>dictionary of {grid name: grid path, …}</p>
</dd>
<dt>list</dt><dd><p>list of vdatum regions</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vyperdatum.utils.spatial_utils.get_region_polygons">
<span class="sig-prename descclassname"><span class="pre">vyperdatum.utils.spatial_utils.</span></span><span class="sig-name descname"><span class="pre">get_region_polygons</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datums_directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'kml'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/vyperdatum/utils/spatial_utils.html#get_region_polygons"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.spatial_utils.get_region_polygons" title="Link to this definition"></a></dt>
<dd><p>”
Search the datums directory to find all geometry files.
All datums are assumed to reside in a subfolder.</p>
<section id="id19">
<h3>Parameters<a class="headerlink" href="#id19" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>datums_directory<span class="classifier">str</span></dt><dd><p>absolute folder path to the vdatum directory</p>
</dd>
<dt>extension<span class="classifier">str</span></dt><dd><p>the geometry file extension to search for</p>
</dd>
</dl>
</section>
<section id="id20">
<h3>Returns<a class="headerlink" href="#id20" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>dict</dt><dd><p>dictionary of {kml name: kml path, …}</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vyperdatum.utils.spatial_utils.overlapping_extents">
<span class="sig-prename descclassname"><span class="pre">vyperdatum.utils.spatial_utils.</span></span><span class="sig-name descname"><span class="pre">overlapping_extents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lon_min</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_min</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/vyperdatum/utils/spatial_utils.html#overlapping_extents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.spatial_utils.overlapping_extents" title="Link to this definition"></a></dt>
<dd><p>Return database predefined extents that intersect with an area of interest.
The results are sorted by coverage ratios.</p>
<section id="id21">
<h3>Parameters<a class="headerlink" href="#id21" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>lon_min</dt><dd><p>the minimum longitude of the area of interest</p>
</dd>
<dt>lat_min</dt><dd><p>the minimum latitude of the area of interest</p>
</dd>
<dt>lon_max</dt><dd><p>the maximum longitude of the area of interest</p>
</dd>
<dt>lat_max</dt><dd><p>the maximum latitude of the area of interest</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vyperdatum.utils.spatial_utils.overlapping_regions">
<span class="sig-prename descclassname"><span class="pre">vyperdatum.utils.spatial_utils.</span></span><span class="sig-name descname"><span class="pre">overlapping_regions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datums_directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_min</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_min</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vyperdatum/utils/spatial_utils.html#overlapping_regions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.spatial_utils.overlapping_regions" title="Link to this definition"></a></dt>
<dd><p>Return the region names that intersect with the provided bound.
The input coordinate reference system is expected to be
NAD83(2011) geographic.</p>
<section id="id22">
<h3>Parameters<a class="headerlink" href="#id22" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>lon_min</dt><dd><p>the minimum longitude of the area of interest</p>
</dd>
<dt>lat_min</dt><dd><p>the minimum latitude of the area of interest</p>
</dd>
<dt>lon_max</dt><dd><p>the maximum longitude of the area of interest</p>
</dd>
<dt>lat_max</dt><dd><p>the maximum latitude of the area of interest</p>
</dd>
</dl>
</section>
</dd></dl>

</section>
<section id="module-vyperdatum.utils.vdatum_rest_utils">
<span id="vyperdatum-utils-vdatum-rest-utils-module"></span><h2>vyperdatum.utils.vdatum_rest_utils module<a class="headerlink" href="#module-vyperdatum.utils.vdatum_rest_utils" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="vyperdatum.utils.vdatum_rest_utils.api_crs_aliases">
<span class="sig-prename descclassname"><span class="pre">vyperdatum.utils.vdatum_rest_utils.</span></span><span class="sig-name descname"><span class="pre">api_crs_aliases</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wkt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/vyperdatum/utils/vdatum_rest_utils.html#api_crs_aliases"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.vdatum_rest_utils.api_crs_aliases" title="Link to this definition"></a></dt>
<dd><p>Vdatum REST api uses different CRS names compared to those
of the PROJ/pyproj. This function expects to receive a CRS WKT
and returns horizontal and vertical CRS names that are consumable
by the vdatum REST api.</p>
<section id="id23">
<h3>Raises<a class="headerlink" href="#id23" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>ValueError</dt><dd><p>When the standard CRS name can’t be matched with any Vdatum API CRS names.</p>
</dd>
</dl>
</section>
<section id="id24">
<h3>Parameters<a class="headerlink" href="#id24" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>wkt: str</dt><dd><p>WKT string.</p>
</dd>
</dl>
</section>
<section id="id25">
<h3>Returns<a class="headerlink" href="#id25" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>tuple[str, str]</dt><dd><p>Horizontal and vertical CRS names that are consumable by the vdatum REST api.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vyperdatum.utils.vdatum_rest_utils.api_region_alias">
<span class="sig-prename descclassname"><span class="pre">vyperdatum.utils.vdatum_rest_utils.</span></span><span class="sig-name descname"><span class="pre">api_region_alias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">region</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vyperdatum/utils/vdatum_rest_utils.html#api_region_alias"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.vdatum_rest_utils.api_region_alias" title="Link to this definition"></a></dt>
<dd><p>Vdatum REST api uses different region names compared to those
listed in the vdatum grids directory. This function expects to
receive region name according to the vdatum grids directory and
returns region name consistent with the vdatum REST api. Default
output is <cite>contiguous</cite>.</p>
<section id="id26">
<h3>Parameters<a class="headerlink" href="#id26" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>region: str</dt><dd><p>Region name according to the vdatum grids directory.</p>
</dd>
</dl>
</section>
<section id="id27">
<h3>Returns<a class="headerlink" href="#id27" title="Link to this heading"></a></h3>
<p>str</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vyperdatum.utils.vdatum_rest_utils.index_to_xy">
<span class="sig-prename descclassname"><span class="pre">vyperdatum.utils.vdatum_rest_utils.</span></span><span class="sig-name descname"><span class="pre">index_to_xy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vyperdatum/utils/vdatum_rest_utils.html#index_to_xy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.vdatum_rest_utils.index_to_xy" title="Link to this definition"></a></dt>
<dd><p>Take indices of a raster’s band array and return x, y.</p>
<section id="id28">
<h3>Parameters<a class="headerlink" href="#id28" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>i: int</dt><dd><p>Raster’s band array first index.</p>
</dd>
<dt>j: int</dt><dd><p>Raster’s band array second index.</p>
</dd>
<dt>geot: tuple</dt><dd><p>Gdal GeoTransform tuple object.</p>
</dd>
</dl>
</section>
<section id="id29">
<h3>Returns<a class="headerlink" href="#id29" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>float, float</dt><dd><p>easting, northing</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vyperdatum.utils.vdatum_rest_utils.sample_raster">
<span class="sig-prename descclassname"><span class="pre">vyperdatum.utils.vdatum_rest_utils.</span></span><span class="sig-name descname"><span class="pre">sample_raster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_meta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_meta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_sample</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_band</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pivot_h_crs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/vyperdatum/utils/vdatum_rest_utils.html#sample_raster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.vdatum_rest_utils.sample_raster" title="Link to this definition"></a></dt>
<dd><p>Randomly draw <cite>n_samples</cite> points (not NoDataValue) from the <cite>sampling_band</cite>
of the source and target rasters.</p>
<section id="id30">
<h3>Parameters<a class="headerlink" href="#id30" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>source_meta: dict</dt><dd><p>Source raster metadata generated by <cite>raster_metadata</cite> function.</p>
</dd>
<dt>target_meta: dict</dt><dd><p>Target raster metadata generated by <cite>raster_metadata</cite> function.</p>
</dd>
<dt>n_sample: int</dt><dd><p>The number of sample points (coordinates).</p>
</dd>
<dt>sampling_band: dict</dt><dd><p>The index of the source band to be sampled (default 1).</p>
</dd>
<dt>pivot_h_crs: Optional[str]</dt><dd><p>When not None, both source and target samples are transformed
into a common horizontal CRS, otherwise ignored (default None).
Example: pivot_h_crs = ‘EPSG:6318’</p>
</dd>
</dl>
</section>
<section id="id31">
<h3>Raises<a class="headerlink" href="#id31" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>ValueError:</dt><dd><p>If there are less not-null values than <cite>n_sample</cite> in the target raster band.</p>
</dd>
</dl>
</section>
<section id="id32">
<h3>Returns<a class="headerlink" href="#id32" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>bool</dt><dd><p>Returns <cite>n_samples</cite> points from the rasters in form of two lists of [x, y, sampled_value].</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vyperdatum.utils.vdatum_rest_utils.vdatum_cross_validate_raster">
<span class="sig-prename descclassname"><span class="pre">vyperdatum.utils.vdatum_rest_utils.</span></span><span class="sig-name descname"><span class="pre">vdatum_cross_validate_raster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_sample</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_band</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pivot_h_crs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s_h_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s_v_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s_h_zone</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_h_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_v_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_h_zone</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vyperdatum/utils/vdatum_rest_utils.html#vdatum_cross_validate_raster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.vdatum_rest_utils.vdatum_cross_validate_raster" title="Link to this definition"></a></dt>
<dd><p>Randomly sample the source raster points and transform them to the
target CRS using the vdatum API. Verify if the transformed values are
consistent with the target raster values.</p>
<section id="id33">
<h3>Parameters<a class="headerlink" href="#id33" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>s_file: str</dt><dd><p>Absolute path to the source raster file.</p>
</dd>
<dt>t_file: str</dt><dd><p>Absolute path to the target (transferred) raster file.</p>
</dd>
<dt>n_sample: int</dt><dd><p>The number of sample points (coordinates).</p>
</dd>
<dt>sampling_band: dict</dt><dd><p>The index of the source band to be sampled (default 1).</p>
</dd>
<dt>region: Optional[str]</dt><dd><p>Vdatum region name (e.g. ak, as, contiguous, gcnmi, prvi)
<a class="reference external" href="https://vdatum.noaa.gov/docs/services.html#step140">https://vdatum.noaa.gov/docs/services.html#step140</a></p>
</dd>
<dt>pivot_h_crs: Optional[str]</dt><dd><p>When not None, both source and target samples are transformed
into a common horizontal CRS, otherwise ignored (default None).
Example: pivot_h_crs = ‘EPSG:6318’</p>
</dd>
<dt>s_h_frame: Optional[str]</dt><dd><p>Source horizontal reference frame (e.g. NAD83_2011)
<a class="reference external" href="https://vdatum.noaa.gov/docs/services.html#step150">https://vdatum.noaa.gov/docs/services.html#step150</a></p>
</dd>
<dt>s_v_frame: Optional[str]</dt><dd><p>source vertical reference frame (e.g. NAVD88, PRVD02, MLLW)
<a class="reference external" href="https://vdatum.noaa.gov/docs/services.html#step160">https://vdatum.noaa.gov/docs/services.html#step160</a></p>
</dd>
<dt>s_h_zone: Optional[str]</dt><dd><p>source CRS zone, if projected.
The details of this parameter is not documented in vdatum services page.</p>
</dd>
<dt>t_h_frame: Optional[str]</dt><dd><p>Target horizontal reference frame (e.g. NAD83_2011)
<a class="reference external" href="https://vdatum.noaa.gov/docs/services.html#step150">https://vdatum.noaa.gov/docs/services.html#step150</a></p>
</dd>
<dt>t_v_frame: Optional[str]</dt><dd><p>Target vertical reference frame (e.g. NAVD88, PRVD02, MLLW)
<a class="reference external" href="https://vdatum.noaa.gov/docs/services.html#step160">https://vdatum.noaa.gov/docs/services.html#step160</a></p>
</dd>
<dt>t_h_zone: Optional[str]</dt><dd><p>Target CRS zone, if projected.
The details of this parameter is not documented in vdatum services page.</p>
</dd>
</dl>
</section>
<section id="id34">
<h3>Returns<a class="headerlink" href="#id34" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>bool</dt><dd><p>True if all checks pass, otherwise False.</p>
</dd>
<dt>pandas.DataFrame</dt><dd><p>Dataframe containing the sampled input, transferred, and vdatum points.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vyperdatum.utils.vdatum_rest_utils.vdatum_transform_point">
<span class="sig-prename descclassname"><span class="pre">vyperdatum.utils.vdatum_rest_utils.</span></span><span class="sig-name descname"><span class="pre">vdatum_transform_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s_z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s_h_frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s_v_frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s_h_zone</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_h_frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_v_frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_h_zone</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s_v_goid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'geoid18'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_v_goid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'geoid18'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vyperdatum/utils/vdatum_rest_utils.html#vdatum_transform_point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.vdatum_rest_utils.vdatum_transform_point" title="Link to this definition"></a></dt>
<dd><p>Call point transformation GET endpoint (/convert) of the Vdatum REST API.
API docs: <a class="reference external" href="https://vdatum.noaa.gov/docs/services.html">https://vdatum.noaa.gov/docs/services.html</a></p>
<section id="id35">
<h3>Parameters<a class="headerlink" href="#id35" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>s_x: float</dt><dd><p>Source point longitude</p>
</dd>
<dt>s_y: float</dt><dd><p>Source point latitude</p>
</dd>
<dt>s_z: float</dt><dd><p>Source point height</p>
</dd>
<dt>region: str</dt><dd><p>Vdatum region name (e.g. ak, as, contiguous, gcnmi, prvi)
<a class="reference external" href="https://vdatum.noaa.gov/docs/services.html#step140">https://vdatum.noaa.gov/docs/services.html#step140</a></p>
</dd>
<dt>s_h_frame: str</dt><dd><p>Source horizontal reference frame (e.g. NAD83_2011)
<a class="reference external" href="https://vdatum.noaa.gov/docs/services.html#step150">https://vdatum.noaa.gov/docs/services.html#step150</a></p>
</dd>
<dt>s_v_frame: str</dt><dd><p>source vertical reference frame (e.g. NAVD88, PRVD02, MLLW)
<a class="reference external" href="https://vdatum.noaa.gov/docs/services.html#step160">https://vdatum.noaa.gov/docs/services.html#step160</a></p>
</dd>
<dt>t_h_frame: str</dt><dd><p>Target horizontal reference frame (e.g. NAD83_2011)
<a class="reference external" href="https://vdatum.noaa.gov/docs/services.html#step150">https://vdatum.noaa.gov/docs/services.html#step150</a></p>
</dd>
<dt>t_v_frame: str</dt><dd><p>Target vertical reference frame (e.g. NAVD88, PRVD02, MLLW)
<a class="reference external" href="https://vdatum.noaa.gov/docs/services.html#step160">https://vdatum.noaa.gov/docs/services.html#step160</a></p>
</dd>
<dt>s_v_goid: str</dt><dd><p>Source vertical GEOID model (e.g. geoid18 (default), geoid12b,
geoid12a, geoid09, geoid06, geoid03, geoid99, geoid96, egm2008,
egm1996, egm1984, xgeoid16b, xgeoid17b, xgeoid18b, xgeoid19b,
xgeoid20b)</p>
</dd>
<dt>t_v_goid: str</dt><dd><p>Target vertical GEOID model (e.g. geoid18 (default), geoid12b,
geoid12a, geoid09, geoid06, geoid03, geoid99, geoid96, egm2008,
egm1996, egm1984, xgeoid16b, xgeoid17b, xgeoid18b, xgeoid19b,
xgeoid20b)</p>
</dd>
</dl>
</section>
<section id="id36">
<h3>Returns<a class="headerlink" href="#id36" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>Optional[tuple]</dt><dd><p>The transformed coordinates (lon, lat, height)</p>
</dd>
<dt>Optional[dict]</dt><dd><p>The complete vdatum response object</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vyperdatum.utils.vdatum_rest_utils.wkt_to_crs">
<span class="sig-prename descclassname"><span class="pre">vyperdatum.utils.vdatum_rest_utils.</span></span><span class="sig-name descname"><span class="pre">wkt_to_crs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wkt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/vyperdatum/utils/vdatum_rest_utils.html#wkt_to_crs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.vdatum_rest_utils.wkt_to_crs" title="Link to this definition"></a></dt>
<dd><p>Receives WKT and returns the horizontal/vertical CRS names.</p>
<section id="id37">
<h3>Parameters<a class="headerlink" href="#id37" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>wkt: str</dt><dd><p>WKT string</p>
</dd>
</dl>
</section>
<section id="id38">
<h3>Returns<a class="headerlink" href="#id38" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>tuple[Optional[str], Optional[str]]</dt><dd><p>Horizontal and vertical CRS names, if identified.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vyperdatum.utils.vdatum_rest_utils.wkt_to_utm">
<span class="sig-prename descclassname"><span class="pre">vyperdatum.utils.vdatum_rest_utils.</span></span><span class="sig-name descname"><span class="pre">wkt_to_utm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wkt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="_modules/vyperdatum/utils/vdatum_rest_utils.html#wkt_to_utm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vyperdatum.utils.vdatum_rest_utils.wkt_to_utm" title="Link to this definition"></a></dt>
<dd><p>Receives WKT and returns the UTM zone, if applicable.</p>
<section id="id39">
<h3>Parameters<a class="headerlink" href="#id39" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>wkt: str</dt><dd><p>WKT string</p>
</dd>
</dl>
</section>
<section id="id40">
<h3>Returns<a class="headerlink" href="#id40" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>Optional[str]</dt><dd><p>UTM zone</p>
</dd>
</dl>
</section>
</dd></dl>

</section>
<section id="module-vyperdatum.utils">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-vyperdatum.utils" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="vyperdatum.html" class="btn btn-neutral float-left" title="vyperdatum package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Mohammad Ashkezari.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>